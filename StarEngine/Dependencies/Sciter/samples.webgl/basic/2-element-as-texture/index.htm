<html lang="en">
  <head>
    <title>WebGL Demo</title>
    <style>
      body { margin:0; }
      video { size:100px; }
    </style>
    <script|module>

      import {main,bindSourceElement} from "./webgl-demo.js";
      import {GUI} from "../../../widgets/lil-gui/gui.js";
      import {TextureSources} from "./texture-sources.js"

      document.on("ready", function() {
        const canvas = document.$("canvas#gl");
        const params = main(canvas);
        const gui = new GUI();
        gui.add(params,"speed",0,2.0,0.1);
        gui.add(params,"background");
      });

      // pass bindSourceElement to TextureSources
      document.body.append(<TextureSources callback={bindSourceElement}/>);

    </script>

  </head>

  <body>
    <canvas|3d id="gl"/>
  </body>
</html>